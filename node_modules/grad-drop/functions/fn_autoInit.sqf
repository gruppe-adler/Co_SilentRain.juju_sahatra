if (!hasInterface) exitWith {};

[{
	private _planesPrepared = missionNameSpace getVariable ["GRAD_drop_planesPrepared", []];

	private _fnc_create = {
		params ["_plane","_relPos"];

		private _light = "#lightpoint" createVehicle position _plane;
		_light setLightBrightness 0.5;
		_light setLightAmbient [0.3,0.3,0.3];
		_light setLightColor [0.5, 0.5, 0.7];
		_light lightAttachObject [_plane,_relPos];

		_light
	};

	{
		_x params ["_plane"];
		private _lightFront = [_plane,[0,-6.5,-2.3]] call _fnc_create;
		private _lightMid = [_plane, [0,-2,-2.3]] call _fnc_create;
		private _lightRear = [_plane, [0,3,-2.3]] call _fnc_create;
	} forEach _planesPrepared;

}, [], 3] call CBA_fnc_waitAndExecute;

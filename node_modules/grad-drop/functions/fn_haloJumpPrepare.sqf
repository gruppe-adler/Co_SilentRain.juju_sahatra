#include "..\component.hpp"

if (!isServer) exitWith {_this remoteExec ["grad_drop_fnc_initHalojump",2,false]};

private _planesPrepared = missionNameSpace getVariable ["GRAD_drop_planesPrepared", []];

// spawn static planes to prepare them in position
{
	_x params ["_planeInBase", "_marker", "_height", "_waitBeforeJump", "_giveParachute", "_onSceneCut", "_onLanding"];

	private _dir = markerDir _marker;
	private _position = getMarkerPos _marker;
	private _planeInSky = [_position, _dir, _height] call grad_drop_fnc_spawnPlane;

	// store mirror object
	_planeInBase setVariable ["grad_drop_planeInSky", _planeInSky, true];

} forEach _planesPrepared;

INFO_2("%1 planes created for HALO jump.", count _planesPrepared);

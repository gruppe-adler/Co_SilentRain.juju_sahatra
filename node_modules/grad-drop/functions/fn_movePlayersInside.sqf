params ["_planeInBase", "_waitBeforeJump", "_onSceneCut", "_onLanding", "_giveParachute"];

// iterate players and move everyone into the corresponding plane in the sky
{
    private _unit = _x;
    private _positionInPlane = [_planeInBase, _unit] call grad_drop_fnc_getPositionInsidePlane; // [0.99707,-2.46436,-4.52348]
    private _planeInSky = _planeInBase getVariable ["grad_drop_planeInSky", objNull];

    if (_positionInPlane#0 != 0 && _positionInPlane#1 != 0) then {

        private _relDir = _unit getRelDir _planeInBase;
        _unit setVariable ["grad_drop_relDir", _relDir, true];
        // cut sequence players locally
        private _delay = 6;
        [_unit, _delay, _onSceneCut] remoteExec ["grad_drop_fnc_moveInPlaneCut",0,false];

        // move in players server side
        [{
            params ["_planeInSky", "_positionInPlane", "_unit", "_giveParachute"];
            [_planeInSky, _positionInPlane, _unit, _giveParachute] call grad_drop_fnc_moveInPlane;
         }, [_planeInSky, _positionInPlane, _unit, _giveParachute], _delay] call CBA_fnc_waitAndExecute;
    };

} forEach (playableUnits + switchableUnits); // support for editor + AI tests

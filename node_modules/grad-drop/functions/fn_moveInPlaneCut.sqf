#include "..\component.hpp"

params ["_unit",["_delay", 6], ["_onSceneCut",{}]];

if (!hasInterface) exitWith {};
if (!isPlayer _unit) exitWith {}; // dont start cut sequence for AI

if (!isNil "grad_drop_debug") exitWith {
	systemChat "debug: skipping cut sequence";
};

3 fadeSound 0;

cutText ["", "BLACK OUT", 6];
sleep _delay;

addCamShake [2, 400, 0.7];

[] call _onSceneCut;

titleText ["","PLAIN"];
titleFadeOut 12;

sleep 12;

"dynamicBlur" ppEffectEnable true;
"dynamicBlur" ppEffectAdjust [6];
"dynamicBlur" ppEffectCommit 0;
"dynamicBlur" ppEffectAdjust [0.0];
"dynamicBlur" ppEffectCommit 5;

titleCut ["", "BLACK IN", 5];

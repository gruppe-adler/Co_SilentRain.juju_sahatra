#include "..\component.hpp"

params ["_pos","_dir","_height"];

private _plane = createVehicle ["C130J_static_EP1",[0,0,0],[], 0, "NONE"];
_plane allowDamage false;
_plane setDir (_dir + 180);
_plane setPosASL [_pos select 0, _pos select 1, _height];


private _group = createGroup civilian;
private _pilot = _group createUnit ["B_RangeMaster_F", [0,0,0], [], 0, "none"];



private _jm = [_plane] call grad_drop_fnc_spawnJumpmaster;
private _lights = [_plane] call grad_drop_fnc_spawnLights;

_plane setVariable ["grad_drop_jumpmaster", _jm, true];
_plane setVariable ["grad_drop_lights", _lights, true];

// yes, indeed i dont want hideObjectGlobal!
[_plane] remoteExec ["hideObject", [0,-2] select isDedicated, _plane];

[_plane] remoteExec ["grad_drop_fnc_addLightPoints", [0,-2] select isDedicated, _plane];

_plane

